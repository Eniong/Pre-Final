/* Created and coded by Abhilash Narayan */
/* Quiz source: w3schools.com */

var quiz = { "JS" : [
	{
		"id" : 1,
		"question" : "In Article I, Which Section say's that every student shall observe the laws of the land?",
		"options" : [
			{"a": "Section I", 
			 "b":"Section II", 
			 "c":"Section III", 
			 "d":"Section IV"}
			],
		"answer":"Section I",
		"score":0,
		"status": ""
	},
	{
		"id" : 2,
		"question" : "Each student must wear his/her _______ in Campus and must present this to the Security Guards when entering the University or campus he/she enrolled. ",
		"options" : [
			{"a": "Headset", 
			 "b":"ID Card", 
			 "c":"Earings"}
			],
		"answer":"ID Card",
		"score":0,
		"status": ""
	},
	{
		"id" : 3,
		"question" : "If a student loses his/her ID card, he/she should apply for a new one accompanied by an what?",
		"options" : [
			{"a": "Affidavit of loss", 
			 "b":"Affidavite of loss", 
			 "c":"Affidavite of win"}
			],
		"answer":"Affidavit of loss",
		"score":0,
		"status": ""
	},
	{
		"id" : 4,
		"question" : "In Article II, each semester shall consist of at least how many weeks of Class work in the summer session shall be equivalent to class work of one semester?",
		"options" : [
			{"a": "18", 
			 "b":"21"
			}
			],
		"answer":"18",
		"score":0,
		"status": ""
	},
	{
		"id" : 5,
		"question" : "Temporary Enrolment. Temporary enrolment shall be granted to every student-transferee and new students for a period of one how many semestral term in cases where submitted admission requirements are incomplete.?",
		"options" : [
			{"a": "2", 
			 "b":"4",
			 "c":"1",
			 "d":"3",
			}
			],
		"answer":"1",
		"score":0,
		"status": ""
	},
	{
		"id" : 6,
		"question" : ". Foreign Students must meet all the prescribed ___________ of the University and the course applied for.",
		"options" : [
			{"a": "admission test", 
			 "b":"admission fee",
			 "c":"admission requirements",
			}
			],
		"answer":"admission requirements",
		"score":0,
		"status": ""
	},
	{
		"id" : 7,
		"question" : "In Artcle III, full tuition waiver and a stipend of Php 1,500 for Valedictorian from recognized public or private secondary institutions for the first semester with GPA of not lower than ____, provided they come from graduating class of at least fifty (50) students",
		"options" : [
			{"a": "85", 
			 "b":"86",
			 "c":"87",
			}
			],
		"answer":"85",
		"score":0,
		"status": ""
	},
	{
		"id" : 8,
		"question" : "Sports and other related Activities, the cash incentives for regional level (Individual First Place)",
		"options" : [
			{"a": "P1,000", 
			 "b":"P5,000",
			 "c":"P3,000",
			 "d":"P2,000",
			}
			],
		"answer":"P2,000",
		"score":0,
		"status": ""
	},
	{
		"id" : 9,
		"question" : "Sports and other related Activities, the cash incentives for national level (Group First Place)",
		"options" : [
			{"a": "P7,000", 
			 "b":"P10,000",
			 "c":"P5,000",
			 "d":"P8,000"
			}
			],
		"answer":"P7,000",
		"score":0,
		"status": ""
	},
	{
		"id" : 10,
		"question" : "What Section in Artivle IV says that 'It is the responsibility of the Coordinator of Student Services to supervise and regulate the establishment, operation and activities of duly recognized student organization in cooperation with and/or through the campus student council, for the purpose of providing guidelines for the attainment of their goals and objectives as embodied in the constitution and by-laws.'",
		"options" : [
			{"a": "Section 1", 
			 "b":"Section 2",
			 "c":"Section 3",
			 "d":"Section 4",
			}
			],
		"answer":"Section 2",
		"score":0,
		"status": ""
	},
	{
		"id" : 11,
		"question" : "What FSG stand for?",
		"options" : [
			{"a": "Federation of School Government", 
			 "b":"Federation of Student Group",
			 "c":"Federation of Student Government"
			}
			],
		"answer":"Federation of Student Government",
		"score":0,
		"status": ""
	},
	{
		"id" : 12,
		"question" : "What SSC stand for?",
		"options" : [
			{"a": "Supreme Student Cools", 
			 "b":"Supreme Student Councils",
			 "c":"School Student Councils",
			 "d":"Super Student Councils"
			}
			],
		"answer":"Supreme Student Councils",
		"score":0,
		"status": ""
	},
	{
		"id" : 13,
		"question" : "In Article V, What section says that 'The selected editor-in-chief aside from being the top notcher in the Editorial Board Examination must also have at least one year experience in the student publication.'",
		"options" : [
			{"a": "Section 3", 
			 "b":"Section 2",
			 "c":"Section 1"
			}
			],
		"answer":"Section 3",
		"score":0,
		"status": ""
	},
	{
		"id" : 14,
		"question" : "All the other members of the editorial board need not have prior experience from the publications. Passing the Editorial Board Examination shall be the only requirement.",
		"options" : [
			{"a": "Section 2", 
			 "b":"Section 4",
			 "c":"Section 6"
			}
			],
		"answer":"Section 4",
		"score":0,
		"status": ""
	},
	{
		"id" : 15,
		"question" : "The Editorial Board and staff shall publish two or three issues in an academic year which may include any of the following: literary folio, magazine, newsletter, broadsheet and tabloid. Flash issues will also be published when deemed necessary.",
		"options" : [
			{"a": "Section 7", 
			 "b":"Section 9",
			 "c":"Section 6",
			 "d":"Section 8"
			}
			],
		"answer":"Section 7",
		"score":0,
		"status": ""
	},
	{
		"id" : 16,
		"question" : "Article VI, This service provides students with information they need for proper adjustment and decision-making.",
		"options" : [
			{"a": "Information service", 
			 "b":"Information record",
			 "c":"Information data",
			 "d":"Information statement"
			}
			],
		"answer":"Information service",
		"score":0,
		"status": ""
	},
	{
		"id" : 17,
		"question" : "The dynamic personal interaction between a counselor and counselee(s), where the counselor employs methods, approaches or techniques to enhance the counselee(s) intrapersonal and interpersonal development and competencies.",
		"options" : [
			{"a": "Counseling System", 
			 "b":"Counseling Stem",
			 "c":"Counseling School",
			 "d":"Counseling Service"
			}
			],
		"answer":"Counseling Service",
		"score":0,
		"status": ""
	},
	{
		"id" : 18,
		"question" : "The tapping of agencies, organizations or individuals that may be of better assistance in the counselee's resolution of problems and attainment of full potential.",
		"options" : [
			{"a": "Referral Service", 
			 "b":"Referral Code"

			}
			],
		"answer":"Referral Service",
		"score":0,
		"status": ""
	},
	{
		"id" : 19,
		"question" : "Article VII, The library is open from what time from Mondays thru Fridays.",
		"options" : [
			{"a": "8AM to 5:00PM", 
			 "b":"8AM to 6:00PM"

			}
			],
		"answer":"8AM to 5:00PM",
		"score":0,
		"status": ""
	},
	{
		"id" : 20,
		"question" : "The Library ID Card serves as the pass in the use of libraries and their resources. The NO LIBRARY ID, NO ENTRY is strictly enforced. The libran ID card is presented upon entrance and every time a book or a material borrowed.",
		"options" : [
			{"a": "Section 13", 
			 "b":"Section 12",
			 "c":"Section 14"
			}
			],
		"answer":"Section 12",
		"score":0,
		"status": ""
	},
	{
		"id" : 21,
		"question" : "The library ID card is non-transferable. Library cars should not be used by everyone except the student whose picture and name appears on the card. The owner of the ID card is responsible for all materials borrowed on it.",
		"options" : [
			{"a": "Section 15", 
			 "b":"Section 13",
			 "c":"Section 18",
			 "d":"Section 12"
			}
			],
		"answer":"Section 13",
		"score":0,
		"status": ""
	},
	{
		"id" : 22,
		"question" : "Article VIII, The Medical - Dental Clinic of the University is presently located at the PSU - Main Campus, Lingayen, Pangasinan. It is manned by a University Physician, University Dentist, and a nurse. However some campuses of the University have their respective nursed to provide medical consultation and treatment daily at the clinic ",
		"options" : [
			{"a": "Section 1", 
			 "b":"Section 2"
			}
			],
		"answer":"Section 1",
		"score":0,
		"status": ""
	},
	{
		"id" : 23,
		"question" : "First dosage of medicines is given free as long as stocks are available. Medical examination of athletes is done prior to athletic events. The medical staff also attends to emergencies encountered during sports competitions. Dental extractions and prophylaxis are included in the dental services",
		"options" : [
			{"a": "Section 1", 
			 "b":"Section 2"
			}
			],
		"answer":"Section 2",
		"score":0,
		"status": ""
	},
	{
		"id" : 24,
		"question" : "Article IX, All PSU College students are enrolled in a group insurance plan Medical, burial and death benefits are given to students who meet accidents whether inside or outside of the University/Campus premises within the period of coverage",
		"options" : [
			{"a": "Section 1", 
			 "b":"Section 2",
			 "c":"Section 3"
			}
			],
		"answer":"Section 1",
		"score":0,
		"status": ""
	},
	{
		"id" : 25,
		"question" : "Benifit amount of Accidental Death&Permanent Disablement",
		"options" : [
			{"a": "P30,000", 
			 "b":"P50,000"
			}
			],
		"answer":"P50,000",
		"score":0,
		"status": ""
	}
	]
}



var quizApp = function() {

	this.score = 0;		
	this.qno = 1;
	this.currentque = 0;
	var totalque = quiz.JS.length;

	
	this.displayQuiz = function(cque) {
		this.currentque = cque;
		if(this.currentque <  totalque) {
			$("#tque").html(totalque);
			$("#previous").attr("disabled", false);
			$("#next").attr("disabled", false);
			$("#qid").html(quiz.JS[this.currentque].id + '.');
	
			
			$("#question").html(quiz.JS[this.currentque].question);	
			 $("#question-options").html("");
			for (var key in quiz.JS[this.currentque].options[0]) {
			  if (quiz.JS[this.currentque].options[0].hasOwnProperty(key)) {
		
				$("#question-options").append(
					"<div class='form-check option-block'>" +
					"<label class='form-check-label'>" +
							  "<input type='radio' class='form-check-input' name='option'   id='q"+key+"' value='" + quiz.JS[this.currentque].options[0][key] + "'><span id='optionval'>" +
								  quiz.JS[this.currentque].options[0][key] +
							 "</span></label>"
				);
			  }
			}
		}
		if(this.currentque <= 0) {
			$("#previous").attr("disabled", true);	
		}
		if(this.currentque >= totalque) {
				$('#next').attr('disabled', true);
				for(var i = 0; i < totalque; i++) {
					this.score = this.score + quiz.JS[i].score;
				}
			return this.showResult(this.score);	
		}
	}
	
	this.showResult = function(scr) {
		$("#result").addClass('result');
		$("#result").html("<h1 class='res-header'>Total Score: &nbsp;" + scr  + '/' + totalque + "</h1>");
		for(var j = 0; j < totalque; j++) {
			var res;
			if(quiz.JS[j].score == 0) {
					res = '<span class="wrong">' + quiz.JS[j].score + '</span><i class="fa fa-remove c-wrong"></i>';
			} else {
				res = '<span class="correct">' + quiz.JS[j].score + '</span><i class="fa fa-check c-correct"></i>';
			}
			$("#result").append(
			'<div class="result-question"><span>Q ' + quiz.JS[j].id + '</span> &nbsp;' + quiz.JS[j].question + '</div>' +
			'<div><b>Correct answer:</b> &nbsp;' + quiz.JS[j].answer + '</div>' +
			'<div class="last-row"><b>Score:</b> &nbsp;' + res +
			
			'</div>' 
			
			);
			
		}
	}
	
	this.checkAnswer = function(option) {
		var answer = quiz.JS[this.currentque].answer;
		option = option.replace(/\</g,"&lt;")   //for <
		option = option.replace(/\>/g,"&gt;")   //for >
		option = option.replace(/"/g, "&quot;")

		if(option ==  quiz.JS[this.currentque].answer) {
			if(quiz.JS[this.currentque].score == "") {
				quiz.JS[this.currentque].score = 1;
				quiz.JS[this.currentque].status = "correct";
		}
		} else {
			quiz.JS[this.currentque].status = "wrong";
		}
		
	}	
	 
	this.changeQuestion = function(cque) {
			this.currentque = this.currentque + cque;
			this.displayQuiz(this.currentque);	
			
	}
	
}


var jsq = new quizApp();

var selectedopt;
	$(document).ready(function() {
			jsq.displayQuiz(0);		
		
	$('#question-options').on('change', 'input[type=radio][name=option]', function(e) {

			//var radio = $(this).find('input:radio');
			$(this).prop("checked", true);
				selectedopt = $(this).val();
		});
		
			
			 
	});

	
	
	
	$('#next').click(function(e) {
			e.preventDefault();
			if(selectedopt) {
				jsq.checkAnswer(selectedopt);
			}
			jsq.changeQuestion(1);
	});	
	
	$('#previous').click(function(e) {
		e.preventDefault();
		if(selectedopt) {
			jsq.checkAnswer(selectedopt);
		}
			jsq.changeQuestion(-1);
	});